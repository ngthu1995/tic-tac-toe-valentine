{"ast":null,"code":"import _toConsumableArray from \"/Users/thunguyen/Downloads/tic-tac-toe-valentine/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/thunguyen/Downloads/tic-tac-toe-valentine/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState } from \"react\";\nimport { types, pieces } from \"../constants/action.types\";\nimport { isWinning } from \"../algorithm/main\";\nvar initalState = {\n  numberCell: null,\n  arrayBoard: null,\n  currentPiece: pieces.X\n};\nexport var useHomePage = function useHomePage() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    numberCell = _useState2[0],\n    setNumberCell = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    arrayBoard = _useState4[0],\n    setArrayBoard = _useState4[1];\n  var _useState5 = useState(pieces.X),\n    _useState6 = _slicedToArray(_useState5, 2),\n    currentPiece = _useState6[0],\n    setCurrentPiece = _useState6[1];\n  var onSetNumberCell = function onSetNumberCell(numberCell) {\n    setNumberCell(parseInt(numberCell));\n  };\n  var onInitArray = function onInitArray(arrayBoard) {\n    setArrayBoard(arrayBoard);\n  };\n  var onTick = function onTick(array_new) {\n    setArrayBoard(array_new);\n  };\n  var onSwitchPiece = function onSwitchPiece(data) {\n    setCurrentPiece(data);\n  };\n  var _useState7 = useState(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    count = _useState8[0],\n    setCount = _useState8[1];\n  var _useState9 = useState(-1),\n    _useState10 = _slicedToArray(_useState9, 2),\n    isWin = _useState10[0],\n    setWin = _useState10[1];\n  var _useState11 = useState(null),\n    _useState12 = _slicedToArray(_useState11, 2),\n    piecesWin = _useState12[0],\n    setPiecesWin = _useState12[1];\n  var tick = function tick(row, col) {\n    if (isWin === 1) {\n      return;\n    }\n    var count_tmp = count + 1;\n    setCount(count_tmp);\n\n    // update board \n    var newArray = _toConsumableArray(arrayBoard);\n    newArray[row][col] = currentPiece;\n    onTick(newArray);\n\n    // check win \n    var updatedPiecesWin = isWinning(newArray, row, col, currentPiece);\n    if (updatedPiecesWin.length > 0) {\n      setWin(1);\n      setPiecesWin(updatedPiecesWin);\n    } else if (count_tmp == numberCell * numberCell) {\n      setWin(0);\n    } else {\n      // switch player\n      onSwitchPiece(currentPiece == pieces.X ? pieces.O : pieces.X);\n    }\n  };\n  var resetMap = function resetMap() {\n    onInitArray(Array(numberCell).fill(null).map(function () {\n      return Array(numberCell).fill(null);\n    }));\n    onSwitchPiece(pieces.X);\n    setCount(0);\n    setWin(-1);\n    setPiecesWin(null);\n  };\n  return {\n    numberCell: numberCell,\n    currentPiece: currentPiece,\n    arrayBoard: arrayBoard,\n    onSetNumberCell: onSetNumberCell,\n    onInitArray: onInitArray,\n    onTick: onTick,\n    onSwitchPiece: onSwitchPiece,\n    tick: tick,\n    isWin: isWin,\n    piecesWin: piecesWin,\n    resetMap: resetMap\n  };\n};","map":{"version":3,"names":["useState","types","pieces","isWinning","initalState","numberCell","arrayBoard","currentPiece","X","useHomePage","_useState","_useState2","_slicedToArray","setNumberCell","_useState3","_useState4","setArrayBoard","_useState5","_useState6","setCurrentPiece","onSetNumberCell","parseInt","onInitArray","onTick","array_new","onSwitchPiece","data","_useState7","_useState8","count","setCount","_useState9","_useState10","isWin","setWin","_useState11","_useState12","piecesWin","setPiecesWin","tick","row","col","count_tmp","newArray","_toConsumableArray","updatedPiecesWin","length","O","resetMap","Array","fill","map"],"sources":["/Users/thunguyen/Downloads/tic-tac-toe-valentine/src/hooks/index.js"],"sourcesContent":["import { useState } from \"react\";\nimport { types, pieces } from \"../constants/action.types\";\nimport { isWinning } from \"../algorithm/main\";\n\nconst initalState = {\n  numberCell: null,\n  arrayBoard: null,\n  currentPiece: pieces.X\n};\n\n\nexport const useHomePage = () => {\n  const [numberCell, setNumberCell] = useState(null)\n  const [arrayBoard, setArrayBoard] = useState(null)\n  const [currentPiece, setCurrentPiece] = useState(pieces.X)\n\n  const onSetNumberCell = numberCell => {\n    setNumberCell(parseInt(numberCell))\n  }\n\nconst onInitArray = arrayBoard => {\n  setArrayBoard(arrayBoard)\n}\n\nconst onTick =  (array_new) => {\n  setArrayBoard(array_new)\n}\n\nconst onSwitchPiece = (data) => {\n  setCurrentPiece(data)\n}\n\nconst [count, setCount] = useState(0)\n  const [isWin, setWin] = useState(-1)\n  const [piecesWin, setPiecesWin] = useState(null)\n  \n  const tick= (row, col) => {\n    if (isWin === 1) {\n      return;\n    }\n\n    let count_tmp = count + 1;\n    setCount(count_tmp );\n\n    // update board \n    let newArray = [...arrayBoard];\n    newArray[row][col] = currentPiece;\n    onTick(newArray);\n\n    // check win \n    const updatedPiecesWin = isWinning(newArray, row, col, currentPiece);\n    if (updatedPiecesWin.length > 0) {\n      setWin(1)\n      setPiecesWin(updatedPiecesWin)\n    \n    } else if (count_tmp ==  numberCell * numberCell) {\n      setWin(0)\n    } else {\n      // switch player\n      onSwitchPiece(currentPiece == pieces.X ? pieces.O : pieces.X);\n    }\n  }\n\n  const resetMap = () => {\n    onInitArray(\n      Array(numberCell)\n        .fill(null)\n        .map(() => Array(numberCell).fill(null))\n    );\n    onSwitchPiece(pieces.X);\n    setCount(0)\n    setWin(-1)\n    setPiecesWin(null)\n  }\n  \n  return {\n    numberCell,\n    currentPiece,\n    arrayBoard,\n    onSetNumberCell,\n    onInitArray,\n    onTick,\n    onSwitchPiece,\n    tick, isWin, piecesWin, resetMap\n  }\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}